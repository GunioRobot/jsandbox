<project default="all">

<target name="all" depends="mywordle,pubmeddump,pubmed2gender,pubmedperyear">

</target>

<target name="mywordle">
		<mkdir dir="dist"/>
		<mkdir dir="tmp"/>
		<javac srcdir="src" destdir="tmp">
			<include name="**/MyWordle.java" />
		</javac>
			
		<jar destfile="dist/mywordle.jar" basedir="tmp">
			<manifest>
		        <attribute name="Built-By" value="${user.name}"/>
		        <attribute name="Main-Class" value="sandbox.MyWordle"/>
			</manifest>
		</jar>
		<delete dir="tmp"/>
	</target>		
	
<target name="pubmeddump">
	<mkdir dir="dist"/>
	<mkdir dir="tmp"/>
	<javac srcdir="src" destdir="tmp">
		<include name="**/PubmedDump.java" />
	</javac>
		
	<jar destfile="dist/pubmeddump.jar" basedir="tmp">
		<manifest>
	        <attribute name="Built-By" value="${user.name}"/>
	        <attribute name="Main-Class" value="sandbox.PubmedDump"/>
		</manifest>
	</jar>
	<delete dir="tmp"/>
</target>	
	
<target name="pubmed2gender">
	<mkdir dir="dist"/>
	<mkdir dir="tmp"/>
	<javac srcdir="src" destdir="tmp">
		<include name="**/PubmedGender.java" />
	</javac>
		
	<jar destfile="dist/pubmed2gender.jar" basedir="tmp">
		<manifest>
	        <attribute name="Built-By" value="${user.name}"/>
	        <attribute name="Main-Class" value="sandbox.PubmedGender"/>
		</manifest>
	</jar>
	<delete dir="tmp"/>
</target>

<target name="pubmedperyear">
	<mkdir dir="dist"/>
	<mkdir dir="tmp"/>
	<javac srcdir="src" destdir="tmp">
		<include name="**/PubmedPerYear.java" />
	</javac>
	
	<jar destfile="dist/pubmedperyear.jar" basedir="tmp">
		<manifest>
			<attribute name="Built-By" value="${user.name}"/>
			<attribute name="Main-Class" value="sandbox.PubmedPerYear"/>
		</manifest>
	</jar>
	<delete dir="tmp"/>
</target>


<target name="test" depends="pubmed2gender">
	<java jar="dist/pubmed2gender.jar"
		fork="true">
		<arg value="-L"/><arg value="100"/>
		<arg value="Rotavirus"/>
	</java>
</target>	
	
</project>